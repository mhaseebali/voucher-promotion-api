generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Voucher {
  id             Int      @id @default(autoincrement())
  code           String   @unique
  discountType   String  
  discountValue  Float
  expirationDate DateTime
  usageLimit     Int
  usedCount      Int      @default(0)
  minOrderValue  Float?
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
}

model Promotion {
  id                 Int      @id @default(autoincrement())
  code               String   @unique
  discountType       String  
  discountValue      Float
  expirationDate     DateTime
  usageLimit         Int
  usedCount          Int      @default(0)
  eligibleCategories String   
  createdAt          DateTime @default(now())
  updatedAt          DateTime @updatedAt
}

model Order {
  id              Int      @id @default(autoincrement())
  totalAmount     Float
  discountApplied Float    @default(0)
  finalAmount     Float
  voucherCode     String?
  promotionCode   String?
  items           String  
  createdAt       DateTime @default(now())
}
